!function(a){function b(){var b,c=h.val(),d=e();j.removeClass("short bad good strong"),d=d.concat(wp.passwordStrength.userInputBlacklist());var b=wp.passwordStrength.meter(c,d,c);switch(d.length=0,a("."+k).remove(),i.prop("disabled",!0),b){case-1:j.addClass("bad").html(pwsL10n.unknown);break;case 2:j.addClass("bad").html(pwsL10n.bad),f();break;case 3:j.addClass("good").html(pwsL10n.good),f();break;case 4:j.addClass("strong").html(pwsL10n.strong),i.prop("disabled",!1);break;case 5:j.addClass("short").html(pwsL10n.mismatch);break;default:j.addClass("short").html(pwsL10n.short)}return b}function c(){var b={iispack_action:"getWordPressGeneratedPassword",length:12,special_chars:"1",extra_special_chars:"0"},c=a.post("/",b);c.done(function(a){var b=a.randpassw;d(b)})}function d(a){return"undefined"!=typeof a&&(suggested_password=a),"function"!=typeof zxcvbn?void setTimeout(d,100):void(h.val()?b():(h.val(suggested_password),b()))}function e(){var b,c,d,e,f=[],h=iisPackJsPassw.blacklist,i=[a(g+"field-firstname"),a(g+"field-lastname"),a(g+"field-username"),a(g+"field-email")];for(c=i.length,b=0;b<c;b++)e=i[b],h.push(e[0].defaultValue),h.push(e.val());for(d=h.length,b=0;b<d;b++)h[b]&&(f=f.concat(h[b].replace(/\W/g," ").split(" ")));return f=a.grep(f,function(b,c){return!(""===b||4>b.length)&&a.inArray(b,f)===c})}function f(){return!(""===h.val()||12>h.val().length)&&void j.after(l)}var g=".iispack-js-",h=a(g+"field-password"),i=a(g+"field-submit"),j=a(g+"strength-meter"),k="iispack-js-weak-passw",l=a('<label><input type="checkbox" name="iispack_pw_weak" class="cb-iispack-js-weak-passw"/>Använd osäkert lösenord</label>').attr({class:k});a(document).on({click:function(){a("."+k+" input:checkbox").prop("checked")?i.prop("disabled",!1):i.prop("disabled",!0)}},"."+k),a(document).on({input:function(){b()}},g+"field-password"),a(document).ready(function(){c()})}(jQuery);